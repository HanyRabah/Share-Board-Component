!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).EmailsInput=n()}(this,function(){"use strict";function i(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}!function(e){if(e&&"undefined"!=typeof window){var n=document.createElement("style");n.setAttribute("media","screen"),n.innerHTML=e,document.head.appendChild(n)}}("@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: local('Open Sans Regular'), local('OpenSans-Regular'), url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-U1Ug.ttf) format('truetype');\n}\n.tag-wrapper {\n  font-family: 'Open Sans', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  text-rendering: optimizeLegibility;\n  background-color: white;\n  border: 1px solid #C3C2CF;\n  box-sizing: border-box;\n  border-radius: 4px;\n  width: 100%;\n  height: 80px;\n  padding: 8px;\n  overflow-y: scroll;\n}\n.tag-input {\n  background: transparent;\n  border: 0;\n  font-size: 14px;\n  line-height: 24px;\n  width: auto;\n  padding: 0  0 0 8px;\n}\n.tag-input:focus {\n  outline: none;\n}\n.tag-item {\n  background: rgba(102, 153, 255, 0.2);\n  border-radius: 50px;\n  padding: 0 0 0 8px;\n  margin: 0 4px 4px 0;\n  display: inline-flex;\n}\n.tag-item__invalid {\n  background-color: transparent;\n  animation: none;\n}\n.tag-item__label {\n  font-size: 14px;\n  line-height: 24px;\n  max-width: 150px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n}\n.tag-item__invalid .tag-item__label {\n  border-bottom: 1px dashed #e65959;\n}\n.tag-item__close-button {\n  background: transparent;\n  border: 0;\n  padding-right: 8px;\n  font-size: 10px;\n  line-height: 23px;\n  cursor: pointer;\n}\n.tag-item__close-button:focus {\n  outline: none;\n}\n");var o=/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,l="Enter";function s(e,n){var t=document.createElement(e);for(var a in n)"text"===a?t.appendChild(document.createTextNode(n[a])):t[a]=n[a];return t}function u(e){var n,t=s("span",{className:"tag-item"});n=e,o.test(n.toLowerCase())||t.classList.add("tag-item__invalid");var a=s("span",{className:"tag-item__label",text:e}),i=s("button",{type:"button",title:"Remove",className:"tag-item__close-button"});return i.appendChild(document.createTextNode("âœ•")),t.appendChild(a),t.appendChild(i),t}return function(){function a(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{placeholder:"add more people..."};if(!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r(this,"handleTagInputClick",function(e){t.inputElement.focus(),t.removeTag(e)}),r(this,"handleInputKeypress",function(e){var n=e.currentTarget;if(event.key!==l)return null;if(!t.validate(n.value))throw t.inputElement.value="","item already exist or length less than 3 characters";t.createTagElement(t.inputElement.value)}),r(this,"handleInputBlur",function(e){var n=e.currentTarget;if(!t.validate(n.value))return null;t.createTagElement(t.inputElement.value)}),r(this,"handleInputInput",function(){var e=t.inputElement.value.split(",");1<e.length&&e.filter(function(e){return""!=e}).forEach(function(e){t.validate(e),t.createTagElement(e)})}),"undefined"==typeof window)throw new TypeError("This plugin is only works in browser");if(this.element=e,this.options=n,this.data=this.options.data||[],!(e instanceof HTMLElement))throw new TypeError("HTMLElement expected, ".concat(e," given"));this.inputElement=s("input",{className:"tag-input",placeholder:n.placeholder}),this.element.className="tag-wrapper",this.element.append(this.inputElement),this.addEventListeners(),0<this.data.length&&this.data.forEach(function(e){t.createTagElement(e)})}var e,n,t;return e=a,(n=[{key:"addEventListeners",value:function(){this.element.addEventListener("click",this.handleTagInputClick),this.inputElement.addEventListener("keypress",this.handleInputKeypress),this.inputElement.addEventListener("input",this.handleInputInput),this.inputElement.addEventListener("blur",this.handleInputBlur)}},{key:"removeTag",value:function(e){var n=e.target;if(!n.matches("button[type=button]"))return null;var t=n.closest(".tag-item");this.data=this.data.filter(function(e){return e!==t.firstChild.textContent}),t.remove()}},{key:"createTagElement",value:function(e){var n=u(e);this.data.push(e),this.element.insertBefore(n,this.inputElement),this.inputElement.value="",this.inputElement.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"validate",value:function(n){var e=3<=n.length,t=this.data.some(function(e){return e===n});return e&&!t}},{key:"emailCount",get:function(){return this.data.length}}])&&i(e.prototype,n),t&&i(e,t),a}()});
